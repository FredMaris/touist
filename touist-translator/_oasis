# `_oasis` contains the configuration for launching `oasis setup`,
# which creates the ./configure + Makefile for the project.
# Running `oasis setup` is only required when _oasis is modified.
#
# Note that menhirLib is required to be >= 20150118 because the feature
# "incremental API" has been introduced at that version.
###############
# To install oasis:
#     opam install oasis
# To install menhir, fileutils:
#     opam install menhir fileutils
# To install minisat:
#     opam pin add -y minisat "https://github.com/maelvalais/ocaml-minisat.git#0.0.2"
###############
# To force using 'bytecode' over 'native' binary for debugging with
# ocamldebug or utop, launch:
#     ./configure --override is_native false
#

OASISFormat:  0.4
OcamlVersion: >= 4.01.0
Name:         TouiST Compiler
Version:      0.1
Synopsis:     This package is a compiler to the DIMACS file format
Authors:      Olivier Lezaud
License:      LGPL
Plugins:      META (0.4), DevFiles (0.4)
BuildType: ocamlbuild (0.4)
AlphaFeatures: ocamlbuild_more_args

PreBuildCommand: make -f TopMakefile
PostCleanCommand: make -f TopMakefile clean

XOCamlbuildExtraArgs: -use-menhir -menhir \"menhir --table --inspection -v -la 2
#if flag(trace)
#  XOCamlbuildExtraArgs+: --trace
XOCamlbuildExtraArgs+: \" -pkg menhirLib,fileutils,str,minisat

Executable touistc
  Path:           src
  BuildTools:     ocamlbuild, git, menhir
  CompiledObject: best
  MainIs:         touistc.ml
  BuildDepends: menhirLib (>= 20150118), fileutils (>= 0.4.0), str, minisat

SourceRepository touist
  Type:           git
  Location:       https://github.com/touist/touist.git
  Browser:        https://github.com/touist/touist
  Subdir:         touist-translator
